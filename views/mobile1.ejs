<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8">
  <title>Slithr</title>
  <!-- Google Fonts CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">

  <!-- Bootstrap 5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

  <!-- Custom CSS Sheet -->
  <link rel="stylesheet" href="css/mobile1.css">

  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/c2ec60c483.js" crossorigin="anonymous"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>

  <!-- POPUP MODAL -->
  <div class="popup-position" id="room-popup">
    <%- include('./partials/modal'); %>
  </div>

  <header class="py-1 mb-1 border-bottom">
      <div class="container-fluid d-grid gap-3 align-items-center" style="grid-template-columns: 1fr 1fr;">
        <div class="dropdown">
          <a href="#" class="d-flex align-items-center col-lg-4 mb-2 mb-lg-0 link-dark text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="images/logo.png" class="rounded-circle" width="32" height="32">
          </a>
          <ul class="dropdown-menu text-small shadow">
            <li><a class="dropdown-item active" href="#" aria-current="page">Overview</a></li>
            <li><a class="dropdown-item" href="#">About</a></li>
            <li><a class="dropdown-item" href="#">Contact</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="https://github.com/adanglingpointer/UnlimitedWebChat">Source-code</a></li>
          </ul>
        </div>

        <div class="d-flex align-items-center">

          <span class="w-100 me-3"><p class="link-align"></p></span>

          <div class="flex-shrink-0 dropdown">
            <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="images/profile.png" alt="mdo" class="rounded-circle" width="32" height="32">
            </a>
            <ul class="dropdown-menu text-small shadow">
              <li><a class="dropdown-item" href="javascript:void(0)" onclick="toggle_visibility('room-popup');">New chatroom...</a></li>
              <li><a class="dropdown-item" href="/delete/<%=currentRoom%>">Delete Chat</a></li>
              <li><a class="dropdown-item" href="#">Settings</a></li>
              <li><a class="dropdown-item" href="#">Profile</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="/logout">Sign out</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

<main class="container-fluid col-lg-6">

        <!-- This is the list of chatrooms -->

        <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-white">
            <a href="/" class="d-flex align-items-center flex-shrink-0 p-1 link-dark text-decoration-none border-bottom">
              <svg class="bi pe-none me-2" width="30" height="24"><use xlink:href="#bootstrap"></use></svg>
              <span class="fs-5 fw-semibold">Live Chatrooms</span>
            </a>
            <div class="list-group list-group-flush border-bottom ">

              <% foundChatrooms.forEach(function(chatroom, index){ %>

              <a href="/rooms/<%=chatroom.room%>" class="list-group-item list-group-item-action py-1 lh-sm">
                <div class="d-flex w-100 align-items-center justify-content-between">
                  <strong class="mb-1"> <%=chatroom.room%> </strong>
                  <small class="text-muted" </small>
                </div>
                <div class="col-10 mb-1 small"> <%=chatroom.description%> </div>
              </a>

              <% }); %>

              <!-- <a href="#" class="list-group-item list-group-item-action py-1 lh-sm">
                <div class="d-flex w-100 align-items-center justify-content-between">
                  <strong class="mb-1">List group item heading</strong>
                  <small class="text-muted">Tues</small>
                </div>
                <div class="col-10 mb-1 small">Some placeholder content in a paragraph below the heading and date.</div>
              </a> -->

            </div>
          </div>

</main>

<script src="https://code.jquery.com/jquery-3.6.1.js"></script>

<script>
function toggle_visibility(id) {
  var e = document.getElementById(id);

  if (e.style.display == 'block')
    e.style.display = 'none';
  else
    e.style.display = 'block';
}
</script>

</body>
  <!-- Footer -->

  <footer id="footer">
    <p style="text-align:center;">Created by David Hucks</p>
  </footer>


</html>
